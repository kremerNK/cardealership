{% extends "base.html" %}

{% load wagtailcore_tags %}
{% load static wagtailuserbar %}
{% block body_class %}template-homepage{% endblock %}

{% block content %}
    <!DOCTYPE html>
    <html lang="en">
    <head> 
        <meta charset="UTF-8">
        <title>Document</title> 
        <link rel="stylesheet" type="text/css" href="{% static 'css/search_vehicles.css' %}">
        <link rel="stylesheet" href="https://unpkg.com/nouislider@10.0.0/distribute/nouislider.min.css">
        <script src="https://kit.fontawesome.com/f19908a36f.js" crossorigin="anonymous"></script>
    </head>
    <body> 
        <div class='sort-hide-mobile'>
            <div class='sort'>
                
                    <p id='totalMatches'>0 matches</p>
               
                
                <div class='card-pp'>
       
                    <select onchange='setVehiclePPSession();' name="" id="vehicle-pp">
                        <option value="default" selected>Vehicle Per Page</option>
                        <option value="3">3 vehicles</option>
                        <option value="25">25 vehicles</option>
                        <option value="50">50 vehicles</option>
                        <option value="100">100 vehicles</option>
                    </select>
                </div>
                <div class='sortdiv'>
    
                    <select onchange='setSortSession()' id='sort' name="">
                        <option value="default" selected>Sort By</option>
                        <option value="HiLo">Price: Hi-Lo</option>
                        <option value="LoHi">Price: Lo-Hi</option>
                        <option value="AZ">Make: A-Z</option>
                        <option value="ZA">Make: Z-A</option>
                        <option value="NO">Year: New-Old</option>
                        <option value="ON">Year: Old-New</option>
                    </select>
                </div>
            </div>
        </div>
         
       <div class='body'>
        
            <div class='searchbar'>
                <div class='searchBarTop'>
                    <div style='display:flex;justify-content: center;' class='practice'>
                    </div>
                    <p style='text-align: center; font-size: 3rem; width: 90%;'>Filter Results</p>
                    <i style='width: 10%;' id='hideFilter' class="fas fa-window-close"></i>
                    
                </div>
                
                <div class='dropDownContainer'>
                    <div class='search'>
                        <div id='dropDownTarget'>
                            <p>Price Range</p>
                            <p><i id='leftcaret' class="fas fa-angle-left"></i></p>
                        </div>
                        <div class='dropDown'> 
                            <!-- add display:none to dropdown -->
                            <div style='margin: 4.5rem; margin-top: 7rem;' class='regular-slider'>
                    
                            </div>

                            <div class='price-input'> 
                                <span class="textbox"> 
                                    $
                                    <input value='' type="text" id="min" oninput='sliderChange(this);changePage(1, "a");'/>
                                </span>
                                - 
                                <!-- <input id='min' type='text'> -->
                                <span class='textbox'>
                                    $
                                    <input value='' id='max' type='text' oninput='sliderChange(this);changePage(1, "a")'/>
                                </span>
                            </div>
                        </div>
                        <!-- <p><i id='downcaret' class="fas fa-angle-down"></i></p> -->
                    </div>
                    <div class='search'>
                        <div id='dropDownTarget'>
                            <p>Make</p> 
                            <p><i id='leftcaret' class="fas fa-angle-left"></i></p>
                        </div>
                        <div class='dropDown'>
                            <select name="" id="makeFilter" onchange='changePage(1, "a"); makeSession()'>
                                <!-- took out filterVehicles() -->
                                <option value="any">Any</option>
                            {% for make in makeList %}
                                <option value="{{ make }}">{{ make }}</option>
                            {% endfor %}
                            </select>
                        </div>
                    </div>
                     
                    <div class='search'>
                        <div id='dropDownTarget'>
                            <p>Mileage</p>
                            <p><i id='leftcaret' class="fas fa-angle-left"></i></p>
                        </div>
                        <div class='dropDown'>
                            <div style='margin: 4rem;margin-top: 7rem;' class='mileage-slider'>
                             
                            </div>
                            <div class='mileageSpan'>
                                
                                
                                    <input type="text" id="mileageMin" oninput='mileageSliderChange(this);changePage(1, "a"); '/>
                                
                                -
                                <!-- <input id='min' type='text'> -->
               
                                    
                                    <input id='mileageMax' type='text' oninput='mileageSliderChange(this);changePage(1, "a"); '>
                                
                            </div>
                            
                        </div>
                    </div>
                    <div class='search'> 
                        <div id='dropDownTarget'>
                            <p>Model</p> 
                            <p><i id='leftcaret' class="fas fa-angle-left"></i></p>
                        </div>
                        <div class='dropDown'>
                            <select name="" id="modelFilter" onchange='modelSelectChange();changePage(1, "a"); '>
                                <option value="any">Any</option>
                            {% for model in modelList %}
                                <option value="{{ model }}">{{ model }}</option>
                            {% endfor %}
                            </select>
                        </div>
                    </div>
                    
                    <div class='search'>
                        <div id='dropDownTarget'>
                            <p>Year</p>
                            <p><i id='leftcaret' class="fas fa-angle-left"></i></p>
                        </div>
                        <div class='dropDown'>
                            <div class='yearDropDown'>
                                <select name="selectyear" id="selectYearMin" onchange='yearSessionMin();changePage(1, "a"); ' oninput='filterVehicles()'>
                            
                                    <option value="1995" selected>1995</option>
                                    <option value="1996">1996</option>
                                    <option value="1997">1997</option>
                                    <option value="1998">1998</option>
                                    <option value="1999">1999</option>
                                    <option value="2000">2000</option>
                                    <option value="2001">2001</option>
                                    <option value="2002">2002</option>
                                    <option value="2003">2003</option>
                                    <option value="2004">2004</option>
                                    <option value="2005">2005</option> 
                                    <option value="2006">2006</option>
                                    <option value="2007">2007</option>
                                    <option value="2008">2008</option>
                                    <option value="2009">2009</option>
                                    <option value="2010">2010</option>
                                    <option value="2011">2011</option>
                                    <option value="2012">2012</option>
                                    <option value="2013">2013</option>
                                    <option value="2014">2014</option>
                                    <option value="2015">2015</option>
                                    <option value="2016">2016</option>
                                    <option value="2017">2017</option>
                                    <option value="2018">2018</option>
                                    <option value="2019">2019</option>
                                    <option value="2020">2020</option>
                                </select>
                        - 
                                <select name="selectyear2" id="selectYearMax" onchange = 'yearSessionMax();changePage(1, "a"); ' oninput='filterVehicles()'>
                                    <option value="1995">1995</option>
                                    <option value="1996">1996</option>
                                    <option value="1997">1997</option>
                                    <option value="1998">1998</option>
                                    <option value="1999">1999</option>
                                    <option value="2000">2000</option>
                                    <option value="2001">2001</option>
                                    <option value="2002">2002</option>
                                    <option value="2003">2003</option>
                                    <option value="2004">2004</option>
                                    <option value="2005">2005</option>
                                    <option value="2006">2006</option>
                                    <option value="2007">2007</option>
                                    <option value="2008">2008</option>
                                    <option value="2009">2009</option>
                                    <option value="2010">2010</option>
                                    <option value="2011">2011</option>
                                    <option value="2012">2012</option>
                                    <option value="2013">2013</option>
                                    <option value="2014">2014</option>
                                    <option value="2015">2015</option>
                                    <option value="2016">2016</option>
                                    <option value="2017">2017</option>
                                    <option value="2018">2018</option>
                                    <option value='2019'>2019</option>
                                    <option value="2020" selected>2020</option>
                                </select>
                            <!-- <input id='min' type='text'> -->
                                <span class='textbox'>
                            </div>
                            
                        </div>
                    </div>
                    <div class='search'>
                        <div id='dropDownTarget'>
                            <p>Fuel Efficiency</p>
                            <p><i id='leftcaret' class="fas fa-angle-left"></i></p>
                        </div>
                        <div class='dropDown'>
                            <select onchange='fuelSession()' name="" id="fuelEfficiencyFilter" oninput='filterVehicles();changePage(1, "a"); '>
                                <option value="any" selected>Any</option>
                                <option value="15">15+ MPG</option>
                                <option value="20">20+ MPG</option>
                                <option value="25">25+ MPG</option>
                                <option value="30">30+ MPG</option>
                            
                            </select>
                        </div>
                    </div>
                    <div class='search'>
                        <div id='dropDownTarget'>
                            <p>Body Style</p>
                            <p><i id='leftcaret' class="fas fa-angle-left"></i></p>
                        </div>
                        <div class='dropDown'>
                            <select onchange='bodySession()' name="" id="bodyStyleFilter" oninput='filterVehicles();changePage(1, "a"); '>
                                <option value="any" selected>Any</option>
                                {% for make in makeOptions %}
                                    <option value="{{make}}">{{make}}</option>
                                {% endfor %}
                               
                            
                            </select>
                        </div>
                    </div>
                    
                </div>
            </div>
            <div class='displayFilter'>
              
                    <button class='showFilter'><p><i class="fas fa-filter"></i> Filter</p></button>
               
                <div class='mobile-sort-div'>
                    <div class='sort'>
                        <p id='totalMatches'> matches</p>
                        <div class='card-pp'>
             
                            <select onchange='setVehiclePPSession();' name="" id="vehicle-pp">
                                <option value="default" selected>Vehicles Per Page</option>
                                <option value="3">3 vehicles</option>
                                <option value="25">25 vehicles</option>
                                <option value="50">50 vehicles</option>
                                <option value="100">100 vehicles</option>
                            </select>
                        </div>
                        <div class='sortdiv'>
        
                            <select onchange='setSortSession()' id='sort' name="" >
                                <option value="default" selected>Sort By</option>
                                <option value="HiLo">Price: Hi-Lo</option>
                                <option value="LoHi">Price: Lo-Hi</option>
                                <option value="AZ">Make: A-Z</option>
                                <option value="ZA">Make: Z-A</option>
                                <option value="NO">Year: New-Old</option>
                                <option value="ON">Year: Old-New</option>
                            </select>
                        </div>
                </div>
            </div>
            </div>
                <div class='pagination-container'>
                    
                    <div class='searchresults'>
                        
                        {% for attribute in vehicle %}
                            <div value='{{attribute.pk}}' class='vehicleCard' onmouseover='cardHighlightIn(this)'; onmouseout="cardHighlightOut(this)">
                                <div class='topVehicleCard'>
                                    <div class='vehicleImg'>
                                        <img src="../../media/{{ attribute.picture }}" alt="">
                                    </div>
                                    <div class='vehicleInfo'>
                                        <div value='{{ attribute.carType }}' class='vehicleTitle'>
                                            <div class='year'>
                                                <p class='vehicleYear' id='make' name='{{attribute.model}}' value ='{{attribute.make}}'> {{attribute.title}} </p>
                                                <!-- <p style='text-indent: 1rem;' id={{attribute.make}}> {{ attribute.make }}</p> 
                                                <p name='{{attribute.model}}' id='model' style='text-indent: 1rem'>  {{attribute.model }}</p> -->
                                            </div>
                                            <!-- <p>{{ attribute.carType }}</p> -->
                                            <p name='vehicle-price' class='vehicle-price' >{{ attribute.price }}</p>
                                        </div>
                                        <div class='vehicleDetails'>
                                            <div class='mobileMileageDisplay'>
                                                <p>{{ attribute.mileage }} miles</p>
                                            </div>
                                            <div class='vehicleTable1'> 
                                                <table>
                                                    <tr>
                                                        <th>Mileage</th> 
                                                        <th name='mileage' id='mileageId' class='align-right'>{{ attribute.mileage }}</th>
                                                    </tr>
                                                    <tr>
                                                        <th>MPG</th>
                                                        <th name='mpg' id='mpg' class='align-right'>{{ attribute.mpg }}</th>
                                                    </tr>
                                                    <tr>
                                                        <th>Exterior Color</th>
                                                        <th name='exterior_color' class='align-right'>{{ attribute.exterior_color }}</th>
                                                    </tr>
                                                    <tr>
                                                        <th>Interior Color</th>
                                                        <th name='interior_color' class='align-right'>{{ attribute.interior_color }}</th>
                                                    </tr>
                                                </table>
                                            </div>
                                            <div class='vehicleTable2'>
                                                <table>
                                                    <tr>
                                                        <th>Transmission</th>
                                                        <th name='transmission' class='align-right'>{{ attribute.transmission }}</th>
                                                    </tr>
                                                    <tr>
                                                        <th>Engine</th>
                                                        <th name='engine' class='align-right'>{{ attribute.engine }}</th>
                                                    </tr>
                                                    <tr>
                                                        <th>Drive Line</th>
                                                        <th name='drive_line' class='align-right'>{{ attribute.drive_line }}</th>
                                                    </tr>
                                                    <tr>
                                                        <th>Stock Number</th>
                                                        <th name='stock_number' class='align-right'>{{ attribute.stock_number }}</th>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div value='{{attribute.pk}}' class='moreInfo'>
                                    <a href="{{attribute.slug}}-{{attribute.pk}}/"><button>View</button></a>
                            </div> 
                        </div>
                        {% endfor %}
                    </div>
                    <div class='pagination'>

            
                        <!-- <div id="listingTable"></div> -->
                            <a onclick='prevPage()' ><button id="btn_prev">&#8249; Prev </button></a>
                            <!-- <a href="javascript:prevPage()"><button id="btn_prev">&#8249; Prev </button></a> -->
                            Page <span id="page"></span> of <span id='totalpage'></span>
                            <a onclick='nextPage()'><button id="btn_next">Next &#8250;</button></a>
                            
                    </div>
                </div>
                
            
            </div>
        </div>
        
        
       </div>
   
       
       <script src="https://unpkg.com/nouislider@10.0.0/distribute/nouislider.min.js"></script>
       <script src="https://unpkg.com/wnumb@1.1.0"></script>
       <script src="//cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
       <script type="text/javascript" src="{% static 'js/searchvehicles.js' %}"></script>
       
    
        
    </body>
    </html>
{% endblock %}    